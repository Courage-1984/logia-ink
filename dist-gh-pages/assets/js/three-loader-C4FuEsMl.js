let e=null;async function r(){return e||("undefined"!=typeof window&&window.THREE?Promise.resolve(window.THREE):(e=new Promise((e,r)=>{const o=document.querySelector('script[src*="three.js"]');if(o)return o.addEventListener("load",()=>{window.THREE?e(window.THREE):r(new Error("Three.js failed to load"))}),void o.addEventListener("error",()=>{r(new Error("Three.js script failed to load"))});const n=document.createElement("script");n.src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js",n.async=!0,n.crossOrigin="anonymous",n.onload=()=>{window.THREE?e(window.THREE):r(new Error("Three.js failed to initialize"))},n.onerror=()=>{r(new Error("Failed to load Three.js from CDN"))},document.head.appendChild(n)}),e))}function o(){return"undefined"!=typeof window&&void 0!==window.THREE}export{o as isThreeJSAvailable,r as loadThreeJS};
