import{x as n,L as t,S as e}from"./vendor-DHmOgmHF.js";import{i as o}from"./main-ZDZM6f3B.js";const a={CLS:4,INP:0,LCP:0},i={CLS:"CLS (Cumulative Layout Shift)",INP:"INP (Interaction to Next Paint)",LCP:"LCP (Largest Contentful Paint)"};function r(){return"undefined"!=typeof window}function s(){return r()&&"function"==typeof window.plausible}function d(n){return Object.fromEntries(Object.entries(n).map(([n,t])=>[n,null==t?"":String(t)]))}function u(n){const t=function(n){const t=a[n.name]??2;return n.value.toFixed(t)}(n);i[n.name]??n.name;o(),!o()&&s()&&window.plausible(`Web Vital - ${n.name}`,{props:d({value:t,rating:n.rating,navigationType:n.navigationType??"unknown",id:n.id,path:window.location.pathname})})}function c(){r()&&(n(u),t(u),e(u))}function p(){r()&&window.performance&&window.addEventListener("load",()=>{setTimeout(()=>{const n=performance.getEntriesByType("navigation")[0];if(!n)return;const t={dns:n.domainLookupEnd-n.domainLookupStart,tcp:n.connectEnd-n.connectStart,request:n.responseStart-n.requestStart,response:n.responseEnd-n.responseStart,domProcessing:n.domComplete-n.domInteractive,loadTime:n.loadEventEnd-n.fetchStart};o(),!o()&&s()&&window.plausible("Page Load Metrics",{props:d({path:window.location.pathname,dns:Math.round(t.dns),tcp:Math.round(t.tcp),request:Math.round(t.request),response:Math.round(t.response),domProcessing:Math.round(t.domProcessing),loadTime:Math.round(t.loadTime)})})},1e3)})}function m(){c(),p()}export{m as initPerformanceTracking,p as trackPageLoad,c as trackWebVitals};
