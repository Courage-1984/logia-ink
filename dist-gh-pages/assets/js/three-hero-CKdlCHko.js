import{loadThreeJS as e}from"./three-loader-C4FuEsMl.js";let n=null,t=null,i=null,o=null;async function a(){const a=document.getElementById("threejs-hero-canvas"),r=document.getElementById("threejs-services-canvas"),s=document.getElementById("threejs-projects-canvas");if(!a&&!r&&!s)return;const d=async()=>{if("undefined"==typeof window||!window.THREE)try{await e()}catch(d){return}a?await async function(){const a=document.getElementById("threejs-hero-canvas");if(a)try{let r=function(){o=requestAnimationFrame(r),f.rotation.x+=.001,f.rotation.y+=.001,h.render(c,w)},s=function(){w.aspect=window.innerWidth/window.innerHeight,w.updateProjectionMatrix(),h.setSize(window.innerWidth,window.innerHeight)};const d=await e();if(!d)return;const c=new d.Scene,w=new d.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),h=new d.WebGLRenderer({canvas:a,alpha:!0,antialias:!0});h.setSize(window.innerWidth,window.innerHeight),h.setPixelRatio(window.devicePixelRatio);const l=new d.BufferGeometry,m=1e3,u=new Float32Array(3*m);for(let e=0;e<3*m;e++)u[e]=20*(Math.random()-.5);l.setAttribute("position",new d.BufferAttribute(u,3));const p=new d.PointsMaterial({size:.02,color:65535,transparent:!0,opacity:.6}),f=new d.Points(l,p);c.add(f),w.position.z=5,window.addEventListener("resize",s),n=c,t=h,i=w,r()}catch(d){}}():r?await async function(){const a=document.getElementById("threejs-services-canvas");if(a)try{let r=function(){o=requestAnimationFrame(r),l.forEach((e,n)=>{e.rotation.x+=.005,e.rotation.y+=.005,e.position.y+=.001*Math.sin(.001*Date.now()+n)}),h.render(c,w)},s=function(){w.aspect=window.innerWidth/window.innerHeight,w.updateProjectionMatrix(),h.setSize(window.innerWidth,window.innerHeight)};const d=await e();if(!d)return;const c=new d.Scene,w=new d.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),h=new d.WebGLRenderer({canvas:a,alpha:!0,antialias:!0});h.setSize(window.innerWidth,window.innerHeight),h.setPixelRatio(window.devicePixelRatio);const l=[],m=[65535,16711935,65280,26367];for(let e=0;e<15;e++){const e=new d.IcosahedronGeometry(.5*Math.random()+.2,0),n=new d.MeshBasicMaterial({color:m[Math.floor(Math.random()*m.length)],wireframe:!0,transparent:!0,opacity:.3}),t=new d.Mesh(e,n);t.position.set(20*(Math.random()-.5),20*(Math.random()-.5),20*(Math.random()-.5)),t.rotation.set(Math.random()*Math.PI,Math.random()*Math.PI,Math.random()*Math.PI),c.add(t),l.push(t)}w.position.z=10,window.addEventListener("resize",s),n=c,t=h,i=w,r()}catch(d){}}():s&&await async function(){const a=document.getElementById("threejs-projects-canvas");if(a)try{let r=function(){P+=.1*(g-P),requestAnimationFrame(r)},s=function(){o=requestAnimationFrame(s),v+=.01;const e=5e-4*P;h.position.y=y+e;const n=1e-4*P;h.rotation.z=n,m.forEach((e,n)=>{e.rotation.x+=.002,e.rotation.y+=.002;const t=.5*n;e.position.z=f[n]+.3*Math.sin(v+t)}),l.render(w,h)},d=function(){h.aspect=window.innerWidth/window.innerHeight,h.updateProjectionMatrix(),l.setSize(window.innerWidth,window.innerHeight)};const c=await e();if(!c)return;const w=new c.Scene,h=new c.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),l=new c.WebGLRenderer({canvas:a,alpha:!0,antialias:!0});l.setSize(window.innerWidth,window.innerHeight),l.setPixelRatio(Math.min(window.devicePixelRatio,2));const m=[],u=4,p=2.5,f=[];for(let e=0;e<u;e++)for(let n=0;n<u;n++){const t=new c.TorusGeometry(.3,.1,8,20),i=new c.MeshBasicMaterial({color:65535,wireframe:!0,transparent:!0,opacity:.4}),o=new c.Mesh(t,i),a=3*(Math.random()-.5);o.position.set((e-u/2)*p,(n-u/2)*p,a),w.add(o),m.push(o),f.push(a)}h.position.z=8;const y=0;let M,v=0,g=0,P=0;window.addEventListener("scroll",()=>{M&&cancelAnimationFrame(M),M=requestAnimationFrame(()=>{g=window.pageYOffset||window.scrollY||document.documentElement.scrollTop})},{passive:!0}),r(),window.addEventListener("resize",d),n=w,t=l,i=h,s()}catch(d){}}()};"complete"===document.readyState||"interactive"===document.readyState?"requestIdleCallback"in window?requestIdleCallback(d,{timeout:2e3}):setTimeout(d,100):document.addEventListener("DOMContentLoaded",()=>{"requestIdleCallback"in window?requestIdleCallback(d,{timeout:2e3}):setTimeout(d,100)})}export{a as initThreeHero};
