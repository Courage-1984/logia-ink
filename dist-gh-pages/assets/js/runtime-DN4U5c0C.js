import{_ as t,i as a}from"./main-ZDZM6f3B.js";function e(t,a){const e=document.createElement("canvas");return e.width=t,e.height=a,{canvas:e,ctx:e.getContext("2d"),width:t,height:a}}function n(t,a,e,n){return{u:t/e%1,v:a/n}}function o(t,a=.05){const e=2*Math.abs(t-.5);return{isNearPole:e>1-2*a,poleFactor:Math.max(0,(e-(1-2*a))/(2*a))}}function r(t,a,e,n=3){const o=t.data,r=Math.min(n,Math.floor(a/4));for(let i=0;i<e;i++)for(let t=0;t<r;t++){const e=4*(i*a+t),n=4*(i*a+a-1-t),s=4*(i*a+a-1-t),l=4*(i*a+t),d=1-t/r;for(let t=0;t<4;t++){const a=o[e+t]*(1-.5*d)+o[n+t]*(.5*d);o[e+t]=a,o[s+t]=a}for(let t=0;t<4;t++){const a=o[n+t]*(1-.5*d)+o[s+t]*(.5*d);o[n+t]=a,o[l+t]=a}}return t}function i(t,a,e,n=.05){const o=t.data,r=e*n,i=r,s=e-r;for(let l=0;l<e;l++){let t=1;if(l<i?t=l/i:l>s&&(t=(e-l)/r),t<1)for(let e=0;e<a;e++){const n=4*(l*a+e),r=4*((l<i?Math.floor(i):Math.floor(s-1))*a+e);for(let a=0;a<3;a++){const e=o[r+a],i=o[n+a];o[n+a]=i*t+e*(1-t)}}}return t}function s(t,a=.08){return function(t,a=.08){return!o(t,a).isNearPole}(t,a)}function l(t,a=.1){const{poleFactor:e}=o(t,a);return 1-.5*e}function d(t,a={}){const e=window.THREE;if(!e)throw new Error("THREE.js must be loaded before creating textures");const{wrapS:n=e.RepeatWrapping,wrapT:o=e.ClampToEdgeWrapping,minFilter:r=e.LinearMipmapLinearFilter,magFilter:i=e.LinearFilter,generateMipmaps:s=!0}=a,l=new e.CanvasTexture(t);return l.wrapS=n,l.wrapT=o,l.minFilter=r,l.magFilter=i,s&&(l.generateMipmaps=!0),l}const c=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],h=[...c,...c];function m(t){return t*t*t*(t*(6*t-15)+10)}function u(t,a,e){return t+e*(a-t)}function p(t,a,e,n=0){const o=15&t,r=o<8?a:e,i=o<4?e:12===o||14===o?a:n;return(1&o?-r:r)+(2&o?-i:i)}function M(t,a,e=0){const n=255&Math.floor(t),o=255&Math.floor(a);t-=Math.floor(t),a-=Math.floor(a);const r=m(t),i=m(a),s=h[n]+o+e&255,l=h[s+1]+e&255,d=h[n+1]+o+e&255,c=h[d]+e&255,M=h[d+1]+e&255;return u(u(p(h[h[s]+e&255],t,a),p(h[c],t-1,a),r),u(p(h[l],t,a-1),p(h[M],t-1,a-1),r),i)}function f(t,a,e,n=4,o=.5,r=1,i=0){let s=0,l=1,d=r,c=0;for(let h=0;h<n;h++){s+=.5*(M((t*d%e+e)%e,a*d,i+h)+1)*l,c+=l,l*=o,d*=2}return s/c}const y=new Map;function g(t=1,a=null){if(!(a=a||("undefined"!=typeof window?window.THREE:null)))throw new Error("THREE.js must be loaded before creating textures. Pass THREE as second argument or ensure window.THREE is available.");const o=`moon-${t}`;if(y.has(o))return y.get(o).clone();const c=Math.floor(2048*t),h=Math.floor(1024*t),{canvas:m,ctx:u}=e(c,h),p=u.createImageData(c,h),M=p.data;for(let e=0;e<h;e++)for(let t=0;t<c;t++){const a=4*(e*c+t),n=120+40*f(.01*t,.01*e,c,4,.6,1,1e3);M[a]=n,M[a+1]=n,M[a+2]=n,M[a+3]=255}u.putImageData(p,0,0);const g=Math.floor(12*t);for(let e=0;e<g;e++){let t,a,e,o,r=0;do{t=Math.random()*c,a=Math.random()*h;e=n(t,a,c,h).v,o=l(e,.1),r++}while(s(e,.1)&&r<10);const i=(120*Math.random()+60)*o;if(o<.1)continue;const d=u.createRadialGradient(t,a,0,t,a,i);d.addColorStop(0,`rgba(60, 60, 60, ${.4*Math.random()+.5})`),d.addColorStop(.7,`rgba(90, 90, 90, ${.3*Math.random()+.3})`),d.addColorStop(1,"rgba(120, 120, 120, 0)"),u.fillStyle=d,u.beginPath(),u.arc(t,a,i,0,2*Math.PI),u.fill()}const b=Math.floor(12*t);for(let e=0;e<b;e++){let t,a,e,o,r=0;do{t=Math.random()*c,a=Math.random()*h;e=n(t,a,c,h).v,o=l(e,.1),r++}while(s(e,.1)&&r<10);const i=(50*Math.random()+25)*o;if(o<.1)continue;const d=Math.random()*Math.PI*2,m=u.createRadialGradient(t,a,.75*i,t,a,i);m.addColorStop(0,`rgba(160, 160, 160, ${.4*Math.random()+.5})`),m.addColorStop(1,`rgba(130, 130, 130, ${.3*Math.random()+.4})`),u.fillStyle=m,u.beginPath(),u.arc(t,a,i,0,2*Math.PI),u.fill();const p=.75*i,M=u.createRadialGradient(t,a,0,t,a,p);M.addColorStop(0,`rgba(50, 50, 50, ${.5*Math.random()+.7})`),M.addColorStop(.5,`rgba(70, 70, 70, ${.4*Math.random()+.6})`),M.addColorStop(1,`rgba(90, 90, 90, ${.3*Math.random()+.4})`),u.fillStyle=M,u.beginPath(),u.arc(t,a,p,0,2*Math.PI),u.fill();const f=Math.cos(d)*i*.4,y=Math.sin(d)*i*.4,g=u.createRadialGradient(t-f,a-y,0,t-f,a-y,.9*i);if(g.addColorStop(0,`rgba(30, 30, 30, ${.5*Math.random()+.6})`),g.addColorStop(1,"rgba(80, 80, 80, 0)"),u.fillStyle=g,u.beginPath(),u.arc(t-f,a-y,.9*i,0,2*Math.PI),u.fill(),Math.random()>.5){const e=.2*i,n=u.createRadialGradient(t,a,0,t,a,e);n.addColorStop(0,`rgba(150, 150, 150, ${.4*Math.random()+.6})`),n.addColorStop(1,`rgba(110, 110, 110, ${.3*Math.random()+.4})`),u.fillStyle=n,u.beginPath(),u.arc(t,a,e,0,2*Math.PI),u.fill()}}const w=Math.floor(40*t);for(let e=0;e<w;e++){const t=Math.random()*c,a=Math.random()*h,e=l(n(t,a,c,h).v,.1),o=(20*Math.random()+10)*e;if(e<.1)continue;const r=Math.random()*Math.PI*2;u.fillStyle=`rgba(145, 145, 145, ${.4*Math.random()+.4})`,u.beginPath(),u.arc(t,a,o,0,2*Math.PI),u.fill();const i=.75*o,s=u.createRadialGradient(t,a,0,t,a,i);s.addColorStop(0,`rgba(65, 65, 65, ${.5*Math.random()+.6})`),s.addColorStop(1,`rgba(85, 85, 85, ${.3*Math.random()+.4})`),u.fillStyle=s,u.beginPath(),u.arc(t,a,i,0,2*Math.PI),u.fill();const d=Math.cos(r)*o*.5,m=Math.sin(r)*o*.5;u.fillStyle=`rgba(45, 45, 45, ${.4*Math.random()+.5})`,u.beginPath(),u.arc(t-d,a-m,.7*o,0,2*Math.PI),u.fill()}const v=Math.floor(120*t*t);for(let e=0;e<v;e++){const t=Math.random()*c,a=Math.random()*h,e=l(n(t,a,c,h).v,.1),o=(8*Math.random()+3)*e;e<.1||(u.fillStyle=`rgba(100, 100, 100, ${.5*Math.random()+.5})`,u.beginPath(),u.arc(t,a,o,0,2*Math.PI),u.fill(),u.fillStyle=`rgba(70, 70, 70, ${.4*Math.random()+.4})`,u.beginPath(),u.arc(t-.4*o,a-.4*o,.8*o,0,2*Math.PI),u.fill())}const E=Math.floor(250*t*t);for(let e=0;e<E;e++){const t=Math.random()*c,a=Math.random()*h,e=l(n(t,a,c,h).v,.1),o=(3*Math.random()+1)*e;e<.1||(u.fillStyle=`rgba(90, 90, 90, ${.6*Math.random()+.4})`,u.beginPath(),u.arc(t,a,o,0,2*Math.PI),u.fill())}const S=u.getImageData(0,0,c,h),P=S.data;for(let e=0;e<P.length;e+=4){const t=1+15*(f(.05*(e/4%c),.05*Math.floor(e/4/c),c,3,.6,1,2e3)-.5)/255;P[e]=Math.max(50,Math.min(200,P[e]*t)),P[e+1]=Math.max(50,Math.min(200,P[e+1]*t)),P[e+2]=Math.max(50,Math.min(200,P[e+2]*t))}const x=r(i(S,c,h,.05),c,h,3);u.putImageData(x,0,0);const D=d(m,{wrapS:a.RepeatWrapping,wrapT:a.ClampToEdgeWrapping,minFilter:a.LinearMipmapLinearFilter,magFilter:a.LinearFilter});return y.set(o,D),D}function b(t,a={}){const{count:e=1e5,size:n=.02,radius:o=50,branches:r=4,spin:i=1,randomness:s=.5,randomnessPower:l=3,insideColor:d="#ff0080",outsideColor:c="#00ffff"}=a,h=new t.BufferGeometry,m=new Float32Array(3*e),u=new Float32Array(3*e),p=new Float32Array(e),M=new Float32Array(e),f=new t.Color(d),y=new t.Color(c),g=new Float32Array(4*e);for(let b=0;b<g.length;b++)g[b]=Math.random();for(let b=0;b<e;b++){const t=3*b,e=4*b,o=Math.pow(g[e],2)*a.radius,d=b%r/r*Math.PI*2,c=2*o+d,h=.3*Math.sin(c)+1,w=o*i,v=d,E=s*h,S=Math.pow(g[e+1],l)*(b%3==0?1:-1)*E*o,P=Math.pow(g[e+2],l)*(b%5==0?1:-1)*E*o,x=Math.pow(g[e+3],l)*(b%7==0?1:-1)*E*o,D=v+w;m[t]=Math.cos(D)*o+S,m[t+1]=P,m[t+2]=Math.sin(D)*o+x;const $=o/a.radius,T=.2*h;u[t]=Math.min(1,f.r+(y.r-f.r)*$+T),u[t+1]=Math.min(1,f.g+(y.g-f.g)*$+T),u[t+2]=Math.min(1,f.b+(y.b-f.b)*$+T),p[b]=n*(1-o/a.radius*.5);const C=3e-4*(1-o/a.radius*.7);M[b]=C}return h.setAttribute("position",new t.BufferAttribute(m,3)),h.setAttribute("color",new t.BufferAttribute(u,3)),h.setAttribute("size",new t.BufferAttribute(p,1)),h.setAttribute("rotationSpeed",new t.BufferAttribute(M,1)),{geometry:h,densityWaveSpeed:3e-4,count:e}}const w=Math.PI/3;function v(t,a){if(!a||!a.userData.planet||!a.userData.sun)return;const e=a.userData.planet,n=a.userData.sun,o=e.userData.distance,r=function(t,a,e){const n=a.x||0,o=a.y||0,r=a.z||0,i=Math.atan2(r,n),s=i+w,l={x:Math.cos(s)*e,y:o,z:Math.sin(s)*e},d=i-w;return{l4:l,l5:{x:Math.cos(d)*e,y:o,z:Math.sin(d)*e}}}(n.position,e.position,o);a.userData.l4Marker.position.set(r.l4.x,r.l4.y,r.l4.z),a.userData.l5Marker.position.set(r.l5.x,r.l5.y,r.l5.z)}function E(t,a){return 1/(2*t)*(1/Math.sqrt(a))*.12}function S(t,a=.016){t.forEach(t=>{!function(t,a=.016){if(!t||!t.userData)return;const e=t.userData;e.rotationSpeed||(e.rotationSpeed=E(e.size,e.distance)),t.rotation.y+=e.rotationSpeed*a}(t,a)})}let P=null,x=null,D=null,$=null,T=null;function C(t,a=null,e=null,n=null){if(P){if(D&&e){let a;if(e.isObject3D){const n=new THREE.Vector3;e.getWorldPosition(n),a=t.position.distanceTo(n)}else a=(THREE.Vector3,t.position.distanceTo(e));if(n&&e.isObject3D){n.setFromCamera(new THREE.Vector2(0,0),t);const o=n.intersectObject(e,!0);o.length>0&&(a=o[0].distance)}else if(n&&e instanceof THREE.Scene){n.setFromCamera(new THREE.Vector2(0,0),t);const o=n.intersectObjects(e.children,!0);o.length>0&&(a=o[0].distance)}const o=t.far||1e3,r=Math.max(.1,Math.min(1,a/(.2*o)));D.uniforms.focus.value=r}if(T&&a){const t=a.length();T.uniforms.velocity.value=Math.min(1,.1*t)}P.render()}}let R=null,A=null,k=null;function z(t){if(!(t&&k&&R&&A))return k&&k.Vector3?new k.Vector3:{x:0,y:0,z:0};const a=t.position.clone();return R.subVectors(a,A),A.copy(a),R.clone()}function I(t,a,e={}){const{count:n=15e3,size:o=.1,radius:r=80,color:i=16711935,position:s=new t.Vector3(0,0,0),density:l=.5}=e,d=new t.BufferGeometry,c=new Float32Array(3*n),h=new Float32Array(3*n),m=new Float32Array(n),u=new Float32Array(n),p=new t.Color(i),M=1+1.5*l;for(let g=0;g<n;g++){const t=3*g,a=Math.pow(Math.random(),M)*r,e=Math.random()*Math.PI*2,n=Math.acos(2*Math.random()-1);c[t]=s.x+a*Math.sin(n)*Math.cos(e),c[t+1]=s.y+a*Math.sin(n)*Math.sin(e),c[t+2]=s.z+a*Math.cos(n);const i=.3*(Math.random()-.5),d=Math.max(0,Math.min(1,p.r+i)),f=Math.max(0,Math.min(1,p.g+.5*i)),y=Math.max(0,Math.min(1,p.b+.8*i));h[t]=d,h[t+1]=f,h[t+2]=y,m[g]=o*(.5+.5*Math.random());const b=1-a/r;u[g]=l*b*(.5+.5*Math.random())}d.setAttribute("position",new t.BufferAttribute(c,3)),d.setAttribute("color",new t.BufferAttribute(h,3)),d.setAttribute("size",new t.BufferAttribute(m,1)),d.setAttribute("opacity",new t.BufferAttribute(u,1));const f=new t.ShaderMaterial({uniforms:{time:{value:0}},vertexShader:"\n      attribute float size;\n      attribute float opacity;\n      varying vec3 vColor;\n      varying float vOpacity;\n\n      void main() {\n        vColor = color;\n        vOpacity = opacity;\n        vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n        gl_PointSize = size * (300.0 / -mvPosition.z);\n        gl_Position = projectionMatrix * mvPosition;\n      }\n    ",fragmentShader:"\n      varying vec3 vColor;\n      varying float vOpacity;\n\n      void main() {\n        // Soft, circular point rendering for volumetric cloudy appearance\n        float distanceToCenter = distance(gl_PointCoord, vec2(0.5));\n        // Use smoothstep for soft, feathered edges\n        float alpha = 1.0 - smoothstep(0.0, 0.5, distanceToCenter);\n        alpha *= vOpacity;\n\n        gl_FragColor = vec4(vColor, alpha);\n      }\n    ",transparent:!0,depthWrite:!1,blending:t.AdditiveBlending,vertexColors:!0}),y=new t.Points(d,f);return y.position.copy(s),a.add(y),y.userData.isNebula=!0,y.userData.time=0,y}function H(t,a,e={}){const{position:n=new t.Vector3(0,0,0),size:o=5,color:r=16746751,intensity:i=2}=e,s=new t.Group;s.position.copy(n);const l=new t.SphereGeometry(o,32,32),d=new t.MeshStandardMaterial({color:r,emissive:r,emissiveIntensity:i,transparent:!0,opacity:.8}),c=new t.Mesh(l,d);s.add(c);for(let f=0;f<3;f++){const a=o*(1.5+.5*f),e=new t.SphereGeometry(a,32,32),n=new t.MeshBasicMaterial({color:r,transparent:!0,opacity:.1/(f+1),side:t.BackSide}),i=new t.Mesh(e,n);s.add(i)}const h=new t.BufferGeometry,m=new Float32Array(600),u=new Float32Array(600);for(let f=0;f<200;f++){const t=3*f,a=Math.random()*o*2,e=Math.random()*Math.PI*2,n=Math.random()*Math.PI;m[t]=a*Math.sin(n)*Math.cos(e),m[t+1]=a*Math.sin(n)*Math.sin(e),m[t+2]=a*Math.cos(n);const r=.8+.2*Math.random();u[t]=r,u[t+1]=.9*r,u[t+2]=.7*r}h.setAttribute("position",new t.BufferAttribute(m,3)),h.setAttribute("color",new t.BufferAttribute(u,3));const p=new t.PointsMaterial({size:.2,sizeAttenuation:!0,vertexColors:!0,blending:t.AdditiveBlending}),M=new t.Points(h,p);return s.add(M),a.add(s),s.userData.isStarFormingRegion=!0,s.userData.core=c,s.userData.stars=M,s}function F(t,a,e={}){const{count:n=8e3,size:o=.05,radius:r=40,position:i=new t.Vector3(0,0,0),color:s=8947848,density:l=.3}=e,d=new t.BufferGeometry,c=new Float32Array(3*n),h=new Float32Array(3*n),m=new Float32Array(n),u=new t.Color(s);for(let f=0;f<n;f++){const t=3*f,a=Math.pow(Math.random(),1.2)*r,e=Math.random()*Math.PI*2,n=Math.acos(2*Math.random()-1);c[t]=i.x+a*Math.sin(n)*Math.cos(e),c[t+1]=i.y+a*Math.sin(n)*Math.sin(e)*.6,c[t+2]=i.z+a*Math.cos(n);const s=.2+.3*Math.random();h[t]=u.r*s,h[t+1]=u.g*s,h[t+2]=u.b*s,m[f]=o*(.5+.5*Math.random())}d.setAttribute("position",new t.BufferAttribute(c,3)),d.setAttribute("color",new t.BufferAttribute(h,3)),d.setAttribute("size",new t.BufferAttribute(m,1));const p=new t.PointsMaterial({size:o,sizeAttenuation:!0,vertexColors:!0,transparent:!0,opacity:l,blending:t.NormalBlending}),M=new t.Points(d,p);return M.position.copy(i),a.add(M),M.userData.isDustCloud=!0,M}let L=null,B=null,G=null,W=null,V=!1,q=null,j=!1,_=0,O=0,N=150,U=0,X=0,Y=null,J=null,K=null,Q=[],Z=[],tt=null,at=!1;function et(){if(function(){if(at)return;at=!0;let t=document.querySelector(".easter-egg-vortex");t||(t=document.createElement("div"),t.className="easter-egg-vortex",document.body.appendChild(t));let a=document.querySelector(".milky-way-scene");a||(a=document.createElement("div"),a.className="milky-way-scene",document.body.appendChild(a));let e=document.querySelector(".milky-way-menu");e||(e=document.createElement("div"),e.className="milky-way-menu",e.style.display="none",e.style.visibility="hidden",e.style.opacity="0",e.style.pointerEvents="none",e.style.width="0",e.style.height="0",e.style.overflow="hidden",document.body.appendChild(e));let n=e.querySelector(".milky-way-menu-toggle");n||(n=document.createElement("div"),n.className="milky-way-menu-toggle",n.setAttribute("aria-label","Milky Way Menu"),e.appendChild(n));const o=(t,a,e)=>{let o=n.children[t];o||(o=document.createElement("span"),n.appendChild(o)),o.setAttribute("aria-label",a),o.setAttribute("data-tooltip",a),o.dataset.eeBound||(o.dataset.eeBound="true",o.addEventListener("click",t=>{t.stopPropagation(),e()}))};o(0,"Toggle Fullscreen",dt),o(1,"Reset View",ct),o(2,"Exit Milky Way",ht)}(),V)return;V=!0;const o=document.querySelector(".easter-egg-vortex"),s=document.querySelector(".milky-way-scene");window.scrollTo({top:0,behavior:"instant"});const c=document.getElementById("main-content"),h=document.querySelector(".navbar, #navbar, nav.navbar"),m=document.querySelector("footer");if(c&&(c.dataset.originalDisplay||(c.dataset.originalDisplay=c.style.display||""),c.style.display="none"),h&&(h.dataset.originalDisplay||(h.dataset.originalDisplay=h.style.display||""),h.style.display="none"),m&&(m.dataset.originalDisplay||(m.dataset.originalDisplay=m.style.display||""),m.style.display="none"),!c){document.querySelectorAll("body > *:not(.easter-egg-vortex):not(.milky-way-scene):not(.milky-way-menu):not(.milky-way-loading)").forEach(t=>{t&&"aria-live-region"!==t.id&&(t.dataset.originalDisplay||(t.dataset.originalDisplay=t.style.display||""),t.style.display="none")})}document.body.classList.add("easter-egg-active");const u=document.createElement("div");u.className="milky-way-loading",u.innerHTML='\n        <div class="milky-way-loading-spinner"></div>\n        <div class="milky-way-loading-text">LOADING GALAXY</div>\n    ',document.body.appendChild(u),u.style.position="fixed",u.style.top="50%",u.style.left="50%",u.style.transform="translate(-50%, -50%)",u.style.zIndex="999999",u.classList.add("active"),o.classList.add("active"),t(()=>import("./three-loader-C4FuEsMl.js"),[],import.meta.url).then(t=>t.loadThreeJS().then(t=>(t&&(window.THREE=t),t))).catch(t=>(a(),null)),setTimeout(()=>{u.classList.remove("active"),setTimeout(()=>u.remove(),500),document.body.classList.add("milky-way-ready"),s&&(s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.width="100vw",s.style.height="100vh",s.classList.add("active"));const o=document.querySelector(".milky-way-menu");o&&(o.classList.add("active"),setTimeout(()=>{o.style.cssText="\n                    display: flex !important;\n                    flex-direction: row !important;\n                    opacity: 1 !important;\n                    visibility: visible !important;\n                    pointer-events: all !important;\n                    width: auto !important;\n                    height: auto !important;\n                    overflow: visible !important;\n                    position: fixed !important;\n                    bottom: 2rem !important;\n                    left: 50% !important;\n                    transform: translateX(-50%) !important;\n                    top: auto !important;\n                    right: auto !important;\n                    z-index: 2147483647 !important;\n                    margin: 0 !important;\n                    padding: 0 !important;\n                ";const t=o.querySelector(".milky-way-menu-toggle");if(t){t.style.cssText="\n                        display: flex !important;\n                        flex-direction: row !important;\n                        visibility: visible !important;\n                        opacity: 1 !important;\n                        width: auto !important;\n                        height: auto !important;\n                        position: relative !important;\n                        top: auto !important;\n                        left: auto !important;\n                        z-index: 1 !important;\n                        pointer-events: all !important;\n                        align-items: center !important;\n                        justify-content: center !important;\n                        gap: 12px !important;\n                        padding: 0 !important;\n                        border: none !important;\n                        background: transparent !important;\n                    ";const a=t.querySelectorAll("span");a.length>=3&&(a[0].style.cssText="\n                            width: 12px !important;\n                            height: 12px !important;\n                            background: #00ffff !important;\n                            border-radius: 50% !important;\n                            display: block !important;\n                            opacity: 1 !important;\n                            visibility: visible !important;\n                            flex-shrink: 0 !important;\n                            margin: 0 !important;\n                            padding: 0 !important;\n                            cursor: pointer !important;\n                            box-shadow: 0 0 15px #00ffff, 0 0 25px rgba(0, 255, 255, 0.5), 0 0 35px rgba(0, 255, 255, 0.4) !important;\n                        ",a[1].style.cssText="\n                            width: 12px !important;\n                            height: 12px !important;\n                            background: #ff00ff !important;\n                            border-radius: 50% !important;\n                            display: block !important;\n                            opacity: 1 !important;\n                            visibility: visible !important;\n                            flex-shrink: 0 !important;\n                            margin: 0 !important;\n                            padding: 0 !important;\n                            cursor: pointer !important;\n                            box-shadow: 0 0 15px #ff00ff, 0 0 25px rgba(255, 0, 255, 0.5), 0 0 35px rgba(255, 0, 255, 0.4) !important;\n                        ",a[2].style.cssText="\n                            width: 12px !important;\n                            height: 12px !important;\n                            background: #00ff00 !important;\n                            border-radius: 50% !important;\n                            display: block !important;\n                            opacity: 1 !important;\n                            visibility: visible !important;\n                            flex-shrink: 0 !important;\n                            margin: 0 !important;\n                            padding: 0 !important;\n                            cursor: pointer !important;\n                            box-shadow: 0 0 15px #00ff00, 0 0 25px rgba(0, 255, 0, 0.5), 0 0 35px rgba(0, 255, 0, 0.4) !important;\n                        ")}},100)),document.body.style.cursor="default",document.documentElement.style.cursor="default",s.style.cursor="crosshair";const c=document.createElement("style");c.id="milky-way-cursor-override",c.textContent="\n            @media (hover: hover) and (pointer: fine) {\n                body.easter-egg-active.milky-way-ready html,\n                body.easter-egg-active.milky-way-ready body,\n                body.easter-egg-active.milky-way-ready html *,\n                body.easter-egg-active.milky-way-ready body *,\n                body.easter-egg-active.milky-way-ready * {\n                    cursor: default !important;\n                }\n                .milky-way-scene.active canvas {\n                    cursor: crosshair !important;\n                }\n            }\n        ",document.head.appendChild(c),async function(){const o=document.querySelector(".milky-way-scene");if(!o)return;let s=window.THREE;if(!s)try{const{loadThreeJS:a}=await t(async()=>{const{loadThreeJS:t}=await import("./three-loader-C4FuEsMl.js");return{loadThreeJS:t}},[],import.meta.url);if(s=await a(),!s)return;window.THREE=s}catch(u){return void a()}L=new s.Scene,G=new s.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e4),G.position.set(0,0,150),G.lookAt(0,0,0),B=new s.WebGLRenderer({antialias:!0,alpha:!0}),B.setSize(window.innerWidth,window.innerHeight),B.setPixelRatio(window.devicePixelRatio);const c=B.domElement;c.style.position="fixed",c.style.top="0",c.style.left="0",c.style.width="100%",c.style.height="100%",c.style.display="block",c.style.zIndex="99999",c.style.pointerEvents="all",c.style.background="transparent",o.appendChild(c),h=s,k=h||window.THREE,k&&(R=new k.Vector3,A=new k.Vector3),L.userData.postProcessing=null;var h;try{const t=function(t,a,e,n,o={}){const{enableBloom:r=!0,enableDepthOfField:i=!0,enableColorGrading:s=!0,enableMotionBlur:l=!0,bloomStrength:d=1.5,bloomRadius:c=.4,bloomThreshold:h=.85,dofFocus:m=1,dofAperture:u=.025,dofMaxBlur:p=1}=o;if(!t.addons||!t.addons.postprocessing)return null;const M=t.addons.postprocessing,f=M.EffectComposer,y=M.RenderPass,g=M.UnrealBloomPass,b=M.BokehPass,w=M.ShaderPass,v=M.OutputPass;if(!f||!y)return null;P=new f(a);const E=new y(e,n);P.addPass(E),r&&g&&(x=new g(new t.Vector2(window.innerWidth,window.innerHeight),d,c,h),P.addPass(x)),i&&b&&(D=new b(e,n,{focus:m,aperture:u,maxblur:p,width:window.innerWidth,height:window.innerHeight}),P.addPass(D)),s&&w&&($=new w({uniforms:{tDiffuse:{value:null},saturation:{value:1.2},contrast:{value:1.1},brightness:{value:1},exposure:{value:1}},vertexShader:"\n        varying vec2 vUv;\n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        uniform sampler2D tDiffuse;\n        uniform float saturation;\n        uniform float contrast;\n        uniform float brightness;\n        uniform float exposure;\n        varying vec2 vUv;\n\n        void main() {\n          vec4 texel = texture2D(tDiffuse, vUv);\n\n          // Apply exposure\n          vec3 color = texel.rgb * exposure;\n\n          // Apply brightness\n          color *= brightness;\n\n          // Apply contrast\n          color = ((color - 0.5) * contrast) + 0.5;\n\n          // Apply saturation\n          float gray = dot(color, vec3(0.299, 0.587, 0.114));\n          color = mix(vec3(gray), color, saturation);\n\n          gl_FragColor = vec4(color, texel.a);\n        }\n      "}),P.addPass($));l&&w&&(T=new w({uniforms:{tDiffuse:{value:null},velocity:{value:0}},vertexShader:"\n        varying vec2 vUv;\n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        uniform sampler2D tDiffuse;\n        uniform float velocity;\n        varying vec2 vUv;\n\n        void main() {\n          vec2 offset = vec2(velocity * 0.01, 0.0);\n          vec4 color1 = texture2D(tDiffuse, vUv);\n          vec4 color2 = texture2D(tDiffuse, vUv + offset);\n          vec4 color3 = texture2D(tDiffuse, vUv - offset);\n\n          vec4 color = (color1 + color2 + color3) / 3.0;\n          color.a = color1.a;\n\n          gl_FragColor = color;\n        }\n      "}),P.addPass(T));if(v){const t=new v;t.renderToScreen=!0,P.addPass(t)}else{const t=P.passes[P.passes.length-1];t&&(t.renderToScreen=!0)}return{composer:P,bloomPass:x,bokehPass:D,colorGradingPass:$,motionBlurPass:T}}(s,B,L,G,{enableBloom:!1,enableDepthOfField:!1,enableColorGrading:!1,enableMotionBlur:!1});t&&t.composer&&(L.userData.postProcessing=t)}catch(u){a(),L.userData.postProcessing=null}(function(){const t={count:1e5,size:.02,radius:50,branches:4,spin:1,randomness:.5,randomnessPower:3,insideColor:"#ff0080",outsideColor:"#00ffff"},a=function(t,a={},e=3){const n=[];for(let o=0;o<e;o++){const r=o/e,i=b(t,{...a,count:Math.floor(a.count*(1-.3*r)),radius:a.radius*(1+.2*r),spin:a.spin*(1-.3*r),randomness:a.randomness*(1+.2*r),size:a.size*(1-.3*r)});n.push({...i,layerIndex:o,rotationSpeed:3e-4*(1-.4*r)})}return n}(window.THREE||THREE,t,3);L.userData.galaxyLayers=[],a.forEach((a,e)=>{const n=new THREE.PointsMaterial({size:t.size*(1-.1*e),sizeAttenuation:!0,depthWrite:!1,blending:THREE.AdditiveBlending,vertexColors:!0,opacity:1-.15*e,transparent:!0}),o=new THREE.Points(a.geometry,n);L.add(o),L.userData.galaxyLayers.push({points:o,rotationSpeed:a.rotationSpeed,densityWaveSpeed:a.densityWaveSpeed})});const e=new THREE.BufferGeometry,n=new Float32Array(6e3),o=new Float32Array(6e3),r=new Float32Array(2e3);for(let l=0;l<2e3;l++){const t=3*l,a=5*Math.pow(Math.random(),2),e=Math.random()*Math.PI*2,i=Math.random()*Math.PI;n[t]=a*Math.sin(i)*Math.cos(e),n[t+1]=a*Math.sin(i)*Math.sin(e),n[t+2]=a*Math.cos(i);const s=.4*Math.random()+.6;o[t]=s,o[t+1]=s,o[t+2]=.8*s,r[l]=.08+.12*Math.random()}e.setAttribute("position",new THREE.BufferAttribute(n,3)),e.setAttribute("color",new THREE.BufferAttribute(o,3)),e.setAttribute("size",new THREE.BufferAttribute(r,1));const i=new THREE.PointsMaterial({size:.1,sizeAttenuation:!0,depthWrite:!1,blending:THREE.AdditiveBlending,vertexColors:!0}),s=new THREE.Points(e,i);L.add(s),L.userData.centerStars=s})(),function(){const t=function(t,a={}){return[{name:"near",count:Math.floor(.3*(a.count||5e4)),size:1.5*(a.size||.05),depth:500,minDistance:150,maxDistance:800,minBrightness:.6,maxBrightness:1},{name:"mid",count:Math.floor(.4*(a.count||5e4)),size:a.size||.05,depth:1e3,minDistance:800,maxDistance:1500,minBrightness:.4,maxBrightness:.8},{name:"far",count:Math.floor(.3*(a.count||5e4)),size:.7*(a.size||.05),depth:2e3,minDistance:1500,maxDistance:2500,minBrightness:.2,maxBrightness:.6}].map(a=>{const e=new t.BufferGeometry,n=new Float32Array(3*a.count),o=new Float32Array(3*a.count),r=new Float32Array(a.count),i=new Float32Array(a.count),s=new Float32Array(a.count);for(let t=0;t<a.count;t++){const e=3*t,l=Math.random()*Math.PI*2,d=Math.acos(2*Math.random()-1),c=a.minDistance+Math.random()*(a.maxDistance-a.minDistance);n[e]=c*Math.sin(d)*Math.cos(l),n[e+1]=c*Math.sin(d)*Math.sin(l),n[e+2]=c*Math.cos(d);const h=1-(c-a.minDistance)/(a.maxDistance-a.minDistance),m=a.minBrightness+(a.maxBrightness-a.minBrightness)*h*Math.random(),u=.15*(Math.random()-.5);o[e]=m+u,o[e+1]=m+u,o[e+2]=m+.5*u,r[t]=a.size*(1-.4*h),i[t]=Math.random()*Math.PI*2,s[t]=.3+1.2*Math.random()}return e.setAttribute("position",new t.BufferAttribute(n,3)),e.setAttribute("color",new t.BufferAttribute(o,3)),e.setAttribute("size",new t.BufferAttribute(r,1)),e.setAttribute("twinklePhase",new t.BufferAttribute(i,1)),e.setAttribute("twinkleSpeed",new t.BufferAttribute(s,1)),{geometry:e,name:a.name,count:a.count,size:a.size}})}(window.THREE||THREE,{count:5e4,size:.05});L.userData.starLayers=[],t.forEach((t,a)=>{const e=new THREE.PointsMaterial({size:t.size,sizeAttenuation:!0,depthWrite:!1,blending:THREE.AdditiveBlending,vertexColors:!0,opacity:.8-.2*a,transparent:!0}),n=new THREE.Points(t.geometry,e);L.add(n),L.userData.starLayers.push({points:n,name:t.name})})}(),function(){const t=.5,a=new THREE.SphereGeometry(3,32,32),o=function(t=1,a=null){if(!(a=a||("undefined"!=typeof window?window.THREE:null)))throw new Error("THREE.js must be loaded before creating textures. Pass THREE as second argument or ensure window.THREE is available.");const o=`sun-${t}`;if(y.has(o))return y.get(o).clone();const s=Math.floor(2048*t),c=Math.floor(1024*t),{canvas:h,ctx:m}=e(s,c);m.fillStyle="#ff6600",m.fillRect(0,0,s,c);const u=s/2,p=c/2,M=Math.min(s,c)/2,g=.2*c,b=Math.max(6,Math.floor(10*t));for(let e=0;e<b;e++){const a=M*(.3+.07*e),n=.25/(e+1),o=.02+.01*e,r=Math.floor((50+20*e)*t);for(let t=0;t<r;t++){const t=Math.random()*Math.PI*2,r=Math.random()*a,i=u+Math.cos(t)*r,d=g/c,h=(c-g)/c,M=d+Math.random()*(h-d),y=M*c,b=i-u,w=y-p,v=Math.sqrt(b*b+w*w),E=l(M,.2),S=(Math.random()*(15-1.5*e)+5)*E;if(v<a&&v>.7*a&&E>.1){const t=f(i*o,y*o,s,3,.6,1,1e3*e);if(t>.5){const e=.7+.3*t,o=n*(1-v/a),r=m.createRadialGradient(i,y,0,i,y,S);r.addColorStop(0,`rgba(255, ${200*e}, ${50*e}, ${o})`),r.addColorStop(1,`rgba(255, ${100*e}, 0, 0)`),m.fillStyle=r,m.beginPath(),m.arc(i,y,S,0,2*Math.PI),m.fill()}}}}const w=Math.floor(60*t);for(let e=0;e<w;e++){const t=e/w*Math.PI*2+.2*(Math.random()-.5),a=M-40,n=50*Math.random()+30,o=g/c,r=(c-g)/c,i=(o+Math.random()*(r-o))*c,s=u+Math.cos(t)*a,l=i,d=u+Math.cos(t)*(a+n),h=i,f=m.createLinearGradient(s,l,d,h);if(f.addColorStop(0,`rgba(255, 255, 200, ${.5*Math.random()+.4})`),f.addColorStop(.5,`rgba(255, 200, 100, ${.4*Math.random()+.3})`),f.addColorStop(1,"rgba(255, 150, 0, 0)"),m.strokeStyle=f,m.lineWidth=5*Math.random()+3,m.lineCap="round",m.beginPath(),m.moveTo(s,l),m.lineTo(d,h),m.stroke(),Math.random()>.4){const e=t+.6*(Math.random()-.5),o=u+Math.cos(e)*(a+.4*n),r=p+Math.sin(e)*(a+.4*n),i=u+Math.cos(e)*(a+.9*n),s=p+Math.sin(e)*(a+.9*n);m.strokeStyle=`rgba(255, 220, 150, ${.4*Math.random()+.3})`,m.lineWidth=3*Math.random()+1.5,m.beginPath(),m.moveTo(o,r),m.lineTo(i,s),m.stroke()}}const v=Math.floor(40*t);for(let e=0;e<v;e++){const t=Math.random()*Math.PI*2,a=M*(.4+.3*Math.random()),e=a+40*Math.random(),n=(Math.random()-.5)*Math.PI*.6;m.strokeStyle=`rgba(255, ${200+55*Math.random()}, ${100+100*Math.random()}, ${.5*Math.random()+.3})`,m.lineWidth=4*Math.random()+2,m.beginPath(),m.arc(u,p,(a+e)/2,t-n/2,t+n/2),m.stroke()}const E=Math.floor(20*t*t);for(let e=0;e<E;e++){const t=Math.random()*Math.PI*2,a=Math.random()*M*.4,e=u+Math.cos(t)*a,n=g/c,o=(c-g)/c,r=n+Math.random()*(o-n),i=r*c,s=l(r,.2),d=(30*Math.random()+10)*s,h=d*(1.9+.5*Math.random());if(s<.1)continue;const p=m.createRadialGradient(e,i,d,e,i,h);p.addColorStop(0,`rgba(200, 100, 0, ${.5*Math.random()+.4})`),p.addColorStop(1,"rgba(255, 150, 0, 0)"),m.fillStyle=p,m.beginPath(),m.arc(e,i,h,0,2*Math.PI),m.fill();const f=m.createRadialGradient(e,i,0,e,i,d);f.addColorStop(0,`rgba(80, 40, 0, ${.7*Math.random()+.5})`),f.addColorStop(1,`rgba(200, 100, 0, ${.4*Math.random()+.3})`),m.fillStyle=f,m.beginPath(),m.arc(e,i,d,0,2*Math.PI),m.fill();for(let l=0;l<4;l++){const t=Math.random()*Math.PI*2,a=h+15*Math.random(),n=e+Math.cos(t)*a,o=i+Math.sin(t)*a,r=(6*Math.random()+2)*s;m.fillStyle=`rgba(150, 75, 0, ${.5*Math.random()+.4})`,m.beginPath(),m.arc(n,o,r,0,2*Math.PI),m.fill()}}const S=m.getImageData(0,0,s,c),P=S.data;for(let e=0;e<P.length;e+=4){const t=e/4%s,a=Math.floor(e/4/s),o=t-u,r=a-p;if(Math.sqrt(o*o+r*r)<M){const o=l(n(t,a,s,c).v,.2),r=1+.2*(f(.1*t,.1*a,s,2,.7,1,5e3)-.5)*o;P[e]=Math.min(255,P[e]*r),P[e+1]=Math.min(255,P[e+1]*r*.9),P[e+2]=Math.min(255,P[e+2]*r*.8)}}const x=r(i(S,s,c,.05),s,c,3);m.putImageData(x,0,0);const D=d(h,{wrapS:a.RepeatWrapping,wrapT:a.ClampToEdgeWrapping,minFilter:a.LinearMipmapLinearFilter,magFilter:a.LinearFilter});return y.set(o,D),D}(t,THREE),s=new THREE.MeshStandardMaterial({map:o,color:16776960,emissive:16776960,emissiveIntensity:1.5});K=new THREE.Mesh(a,s),K.position.set(0,0,0),L.add(K);const c=new THREE.SphereGeometry(3.5,32,32),h=new THREE.MeshBasicMaterial({color:16776960,transparent:!0,opacity:.3}),m=new THREE.Mesh(c,h);K.add(m);const u=[{name:"Pyro",size:.6,distance:12,color:16729344,speed:.004,moons:0,emissive:16737792,inclination:6.3},{name:"Crystal",size:.8,distance:18,color:65535,speed:.003,moons:2,emissive:6750207,inclination:3.4},{name:"Terra",size:.9,distance:25,color:4886754,speed:.002,moons:1,emissive:6992895,inclination:0},{name:"Vermillion",size:.7,distance:32,color:16716947,speed:.0015,moons:3,emissive:16738740,inclination:1.9},{name:"Titan",size:1.8,distance:45,color:16753920,speed:.001,moons:5,emissive:16757575,inclination:1.3},{name:"Nebula",size:1.4,distance:58,color:9662683,speed:8e-4,moons:4,emissive:12226815,inclination:2.5},{name:"Aurora",size:1.1,distance:72,color:65407,speed:6e-4,moons:2,emissive:4259743,inclination:.8},{name:"Obsidian",size:.95,distance:88,color:3100495,speed:4e-4,moons:1,emissive:4876906,inclination:1.8}];u.forEach((a,o)=>{const s=new THREE.SphereGeometry(a.size,32,32),c=function(t,a,o=1,s=null){if(!(s=s||("undefined"!=typeof window?window.THREE:null)))throw new Error("THREE.js must be loaded before creating textures. Pass THREE as fourth argument or ensure window.THREE is available.");const c=`planet-${t}-${o}`;if(y.has(c))return y.get(c).clone();const h=Math.floor(2048*o),m=Math.floor(1024*o),{canvas:u,ctx:p}=e(h,m),M=new s.Color(a),g=Math.floor(255*M.r),b=Math.floor(255*M.g),w=Math.floor(255*M.b),v=p.createImageData(h,m),E=v.data;for(let e=0;e<m;e++)for(let t=0;t<h;t++){const a=4*(e*h+t),n=.85+.3*f(.005*t,.005*e,h,3,.6,1,3e3);E[a]=Math.max(0,Math.min(255,g*n)),E[a+1]=Math.max(0,Math.min(255,b*n)),E[a+2]=Math.max(0,Math.min(255,w*n)),E[a+3]=255}if(p.putImageData(v,0,0),"Pyro"===t){const t=Math.floor(200*o*o);for(let o=0;o<t;o++){const t=Math.random()*h,a=Math.random()*m,e=l(n(t,a,h,m).v,.15),o=(40*Math.random()+15)*e;if(e<.1)continue;const r=p.createRadialGradient(t,a,0,t,a,o);r.addColorStop(0,`rgba(255, ${150+60*Math.random()}, 0, ${.7*Math.random()+.5})`),r.addColorStop(.5,`rgba(255, ${100+60*Math.random()}, 0, ${.5*Math.random()+.4})`),r.addColorStop(1,"rgba(200, 50, 0, 0)"),p.fillStyle=r,p.beginPath(),p.arc(t,a,o,0,2*Math.PI),p.fill()}const a=Math.floor(80*o);for(let n=0;n<a;n++){const t=Math.random()*h,a=Math.random()*m,e=100*Math.random()+50,o=Math.random()*Math.PI*2;p.strokeStyle=`rgba(255, 40, 0, ${.6*Math.random()+.4})`,p.lineWidth=5*Math.random()+3,p.lineCap="round",p.beginPath(),p.moveTo(t,a);let r=t,i=a;for(let s=0;s<10;s++){const t=o+.8*(f(.5*s,n,h,2,.7,1,4e3)-.5),a=e/10;r+=Math.cos(t)*a,i+=Math.sin(t)*a,p.lineTo(r,i)}p.stroke()}const e=Math.floor(60*o*o);for(let o=0;o<e;o++){const t=Math.random()*h,a=Math.random()*m,e=l(n(t,a,h,m).v,.15),o=(20*Math.random()+8)*e;if(e<.1)continue;const r=p.createRadialGradient(t,a,0,t,a,o);r.addColorStop(0,`rgba(255, 255, 200, ${.8*Math.random()+.4})`),r.addColorStop(1,"rgba(255, 150, 0, 0)"),p.fillStyle=r,p.beginPath(),p.arc(t,a,o,0,2*Math.PI),p.fill()}}else if("Crystal"===t){const t=Math.floor(120*o);for(let n=0;n<t;n++){const t=Math.random()*h,a=Math.random()*m,e=50*Math.random()+25;p.strokeStyle=`rgba(200, 255, 255, ${.7*Math.random()+.5})`,p.lineWidth=4*Math.random()+2,p.beginPath();for(let o=0;o<6;o++){const n=o/6*Math.PI*2,r=t+Math.cos(n)*e,i=a+Math.sin(n)*e;0===o?p.moveTo(r,i):p.lineTo(r,i)}p.closePath(),p.stroke();const n=.6*e;p.strokeStyle=`rgba(220, 255, 255, ${.6*Math.random()+.4})`,p.lineWidth=2.5*Math.random()+1,p.beginPath();for(let o=0;o<6;o++){const e=o/6*Math.PI*2,r=t+Math.cos(e)*n,i=a+Math.sin(e)*n;0===o?p.moveTo(r,i):p.lineTo(r,i)}p.closePath(),p.stroke()}const a=Math.floor(150*o);for(let n=0;n<a;n++){const t=Math.random()*h,a=Math.random()*m,e=40*Math.random()+15,n=Math.random()*Math.PI*2;p.strokeStyle=`rgba(180, 240, 255, ${.5*Math.random()+.4})`,p.lineWidth=3*Math.random()+1,p.beginPath(),p.moveTo(t,a),p.lineTo(t+Math.cos(n)*e,a+Math.sin(n)*e),p.stroke()}const e=Math.floor(70*o);for(let n=0;n<e;n++){const t=Math.random()*h,a=Math.random()*m,e=6*Math.random()+4;p.strokeStyle=`rgba(150, 200, 255, ${.6*Math.random()+.4})`,p.lineWidth=3*Math.random()+1.5,p.beginPath(),p.moveTo(t,a);let n=t,o=a;for(let r=0;r<e;r++){const t=Math.random()*Math.PI*2,a=25*Math.random()+12;n+=Math.cos(t)*a,o+=Math.sin(t)*a,p.lineTo(n,o)}p.stroke()}}else if("Terra"===t){const t=Math.floor(20*o);for(let n=0;n<t;n++){const t=Math.random()*h,a=Math.random()*m,e=140*Math.random()+80,n=p.createRadialGradient(t,a,0,t,a,e);n.addColorStop(0,`rgba(${Math.max(0,g-70)}, ${Math.max(0,b-50)}, ${Math.max(0,w-80)}, ${.4*Math.random()+.7})`),n.addColorStop(.7,`rgba(${Math.max(0,g-50)}, ${Math.max(0,b-40)}, ${Math.max(0,w-60)}, ${.3*Math.random()+.5})`),n.addColorStop(1,"rgba(100, 100, 100, 0)"),p.fillStyle=n,p.beginPath(),p.arc(t,a,e,0,2*Math.PI),p.fill()}const a=Math.floor(60*o);for(let n=0;n<a;n++){const t=Math.random()*h,a=Math.random()*m,e=80*Math.random()+40,o=Math.random()*Math.PI*2;p.strokeStyle=`rgba(${Math.max(0,g-90)}, ${Math.max(0,b-70)}, ${Math.max(0,w-100)}, ${.5*Math.random()+.5})`,p.lineWidth=5*Math.random()+3,p.lineCap="round",p.beginPath(),p.moveTo(t,a);let r=t,i=a;for(let s=0;s<10;s++){const t=o+.6*(f(.3*s,n,h,2,.7,1,5e3)-.5),a=e/10;r+=Math.cos(t)*a,i+=Math.sin(t)*a,p.lineTo(r,i)}p.stroke()}const e=Math.floor(150*o*o);for(let o=0;o<e;o++){const t=Math.random()*h,a=Math.random()*m,e=l(n(t,a,h,m).v,.05),o=(45*Math.random()+20)*e;if(e<.1)continue;const r=p.createRadialGradient(t,a,0,t,a,o);r.addColorStop(0,`rgba(255, 255, 255, ${.4*Math.random()+.3})`),r.addColorStop(1,"rgba(255, 255, 255, 0)"),p.globalCompositeOperation="lighter",p.fillStyle=r,p.beginPath(),p.arc(t,a,o,0,2*Math.PI),p.fill(),p.globalCompositeOperation="source-over"}const r=Math.floor(35*o);for(let n=0;n<r;n++){const t=Math.random()*h,a=Math.random()*m,e=100*Math.random()+50,n=p.createRadialGradient(t,a,0,t,a,e);n.addColorStop(0,`rgba(${g-25}, ${b-15}, ${w+25}, ${.3*Math.random()+.4})`),n.addColorStop(1,"rgba(100, 150, 200, 0)"),p.fillStyle=n,p.beginPath(),p.arc(t,a,e,0,2*Math.PI),p.fill()}}else if("Vermillion"===t){const t=Math.floor(160*o);for(let n=0;n<t;n++){const t=Math.random()*h,a=Math.random()*m,e=50*Math.random()+25,n=p.createRadialGradient(t,a,0,t,a,e);n.addColorStop(0,`rgba(255, ${150+60*Math.random()}, ${180+60*Math.random()}, ${.6*Math.random()+.5})`),n.addColorStop(.7,`rgba(255, ${120+60*Math.random()}, ${150+60*Math.random()}, ${.4*Math.random()+.3})`),n.addColorStop(1,"rgba(255, 100, 150, 0)"),p.fillStyle=n,p.beginPath(),p.arc(t,a,e,0,2*Math.PI),p.fill()}const a=Math.floor(50*o);for(let n=0;n<a;n++){const t=Math.random()*h,a=Math.random()*m,e=80*Math.random()+40;p.strokeStyle=`rgba(255, 180, 220, ${.5*Math.random()+.4})`,p.lineWidth=10*Math.random()+5,p.beginPath(),p.arc(t,a,e,0,2*Math.PI),p.stroke()}const e=Math.floor(80*o);for(let n=0;n<e;n++){const t=Math.random()*h,a=Math.random()*m,e=120*Math.random()+60,n=p.createRadialGradient(t,a,0,t,a,e);n.addColorStop(0,`rgba(255, 150, 200, ${.2*Math.random()+.15})`),n.addColorStop(1,"rgba(255, 100, 150, 0)"),p.fillStyle=n,p.beginPath(),p.arc(t,a,e,0,2*Math.PI),p.fill()}}else if("Titan"===t){let t=0;for(;t<m;){const a=Math.random()*(m/12)+m/20,e=Math.random()>.5?`rgba(${g}, ${b}, ${w}, ${.4*Math.random()+.8})`:`rgba(${Math.max(0,g-50)}, ${Math.max(0,b-50)}, ${Math.max(0,w-50)}, ${.4*Math.random()+.8})`;p.fillStyle=e,p.fillRect(0,t,h,a);const n=p.createLinearGradient(0,t,0,t+a);n.addColorStop(0,`rgba(${g+15}, ${b+15}, ${w+15}, 0.3)`),n.addColorStop(.5,"rgba(0, 0, 0, 0)"),n.addColorStop(1,`rgba(${g-15}, ${b-15}, ${w-15}, 0.3)`),p.fillStyle=n,p.fillRect(0,t,h,a),t+=a}const a=Math.floor(12*o);for(let n=0;n<a;n++){const t=Math.random()*h,a=Math.random()*m,e=100*Math.random()+60,n=p.createRadialGradient(t,a,.7*e,t,a,e);n.addColorStop(0,`rgba(${g+40}, ${b+40}, ${w+40}, ${.5*Math.random()+.4})`),n.addColorStop(1,"rgba(100, 100, 100, 0)"),p.fillStyle=n,p.beginPath(),p.arc(t,a,e,0,2*Math.PI),p.fill();const o=p.createRadialGradient(t,a,0,t,a,.7*e);o.addColorStop(0,`rgba(${g-30}, ${b-30}, ${w-30}, ${.6*Math.random()+.5})`),o.addColorStop(1,`rgba(${g+15}, ${b+15}, ${w+15}, ${.4*Math.random()+.3})`),p.fillStyle=o,p.beginPath(),p.arc(t,a,.7*e,0,2*Math.PI),p.fill()}const e=Math.floor(150*o);for(let n=0;n<e;n++){const t=Math.random()*h,a=Math.random()*m,e=30*Math.random()+12,n=p.createRadialGradient(t,a,0,t,a,e);n.addColorStop(0,`rgba(${g+25}, ${b+25}, ${w+25}, ${.4*Math.random()+.3})`),n.addColorStop(1,"rgba(150, 150, 150, 0)"),p.fillStyle=n,p.beginPath(),p.arc(t,a,e,0,2*Math.PI),p.fill()}}else if("Nebula"===t){const t=Math.floor(140*o);for(let n=0;n<t;n++){const t=Math.random()*h,a=Math.random()*m,e=80*Math.random()+40,n=p.createRadialGradient(t,a,0,t,a,e);n.addColorStop(0,`rgba(${150+60*Math.random()}, ${100+60*Math.random()}, ${180+60*Math.random()}, ${.6*Math.random()+.5})`),n.addColorStop(.6,`rgba(${120+50*Math.random()}, ${80+50*Math.random()}, ${150+50*Math.random()}, ${.4*Math.random()+.3})`),n.addColorStop(1,"rgba(100, 60, 120, 0)"),p.fillStyle=n,p.beginPath(),p.arc(t,a,e,0,2*Math.PI),p.fill()}const a=Math.floor(70*o);for(let n=0;n<a;n++){const t=Math.random()*h,a=Math.random()*m,e=50*Math.random()+25,n=e+80*Math.random()+40;p.strokeStyle=`rgba(180, 120, 220, ${.5*Math.random()+.4})`,p.lineWidth=8*Math.random()+4,p.beginPath(),p.arc(t,a,(e+n)/2,0,2*Math.PI),p.stroke()}const e=Math.floor(40*o);for(let n=0;n<e;n++){const t=Math.random()*h,a=Math.random()*m,e=25*Math.random()+12,n=p.createRadialGradient(t,a,0,t,a,e);n.addColorStop(0,`rgba(255, 255, 255, ${.7*Math.random()+.5})`),n.addColorStop(.5,`rgba(200, 150, 255, ${.5*Math.random()+.4})`),n.addColorStop(1,"rgba(150, 100, 200, 0)"),p.fillStyle=n,p.beginPath(),p.arc(t,a,e,0,2*Math.PI),p.fill()}}else if("Aurora"===t){const t=Math.floor(100*o);for(let n=0;n<t;n++){const t=Math.random()*h,a=Math.random()*m,e=40*Math.random()+15,n=120*Math.random()+60,o=Math.random()*Math.PI*.3-.15*Math.PI;p.save(),p.translate(t,a),p.rotate(o);const r=p.createLinearGradient(0,-n/2,0,n/2);r.addColorStop(0,`rgba(0, 255, ${150+60*Math.random()}, 0)`),r.addColorStop(.3,`rgba(0, 255, ${180+60*Math.random()}, ${.6*Math.random()+.5})`),r.addColorStop(.7,`rgba(0, 255, ${150+60*Math.random()}, ${.6*Math.random()+.5})`),r.addColorStop(1,`rgba(0, 255, ${120+60*Math.random()}, 0)`),p.fillStyle=r,p.fillRect(-e/2,-n/2,e,n),p.restore()}const a=Math.floor(50*o);for(let n=0;n<a;n++){const t=Math.random()*h,a=Math.random()*m,e=180*Math.random()+120;p.strokeStyle=`rgba(0, 255, ${150+60*Math.random()}, ${.6*Math.random()+.5})`,p.lineWidth=10*Math.random()+5,p.lineCap="round",p.beginPath(),p.moveTo(t,a);let n=t,o=a;for(let r=0;r<25;r++){const t=20*Math.sin(.4*r);n+=Math.cos(Math.PI/2)*(e/25),o+=Math.sin(Math.PI/2)*(e/25)+t,p.lineTo(n,o)}p.stroke()}const e=Math.floor(300*o);for(let n=0;n<e;n++){const t=Math.random()*h,a=Math.random()*m,e=4*Math.random()+1.5;p.fillStyle=`rgba(0, 255, ${150+60*Math.random()}, ${.7*Math.random()+.5})`,p.beginPath(),p.arc(t,a,e,0,2*Math.PI),p.fill()}}else if("Obsidian"===t){const t=Math.floor(150*o);for(let o=0;o<t;o++){const t=Math.random()*h,a=Math.random()*m,e=60*Math.random()+25,n=p.createRadialGradient(t,a,0,t,a,e);n.addColorStop(0,`rgba(${Math.max(0,g-50)}, ${Math.max(0,b-50)}, ${Math.max(0,w-50)}, ${.5*Math.random()+.7})`),n.addColorStop(1,`rgba(${Math.max(0,g-15)}, ${Math.max(0,b-15)}, ${Math.max(0,w-15)}, ${.4*Math.random()+.5})`),p.fillStyle=n,p.beginPath(),p.arc(t,a,e,0,2*Math.PI),p.fill()}const a=Math.floor(160*o);for(let o=0;o<a;o++){const t=Math.random()*h,a=Math.random()*m,e=80*Math.random()+40,n=Math.random()*Math.PI*2;p.strokeStyle=`rgba(${Math.max(0,g-70)}, ${Math.max(0,b-70)}, ${Math.max(0,w-70)}, ${.6*Math.random()+.5})`,p.lineWidth=4*Math.random()+2,p.lineCap="round",p.beginPath(),p.moveTo(t,a),p.lineTo(t+Math.cos(n)*e,a+Math.sin(n)*e),p.stroke()}const e=Math.floor(400*o);for(let o=0;o<e;o++){const t=Math.random()*h,a=Math.random()*m,e=6*Math.random()+1.5;p.fillStyle=`rgba(${Math.max(0,g-40)}, ${Math.max(0,b-40)}, ${Math.max(0,w-40)}, ${.7*Math.random()+.5})`,p.beginPath(),p.arc(t,a,e,0,2*Math.PI),p.fill()}const n=Math.floor(70*o);for(let o=0;o<n;o++){const t=Math.random()*h,a=Math.random()*m,e=10*Math.random()+4,n=p.createRadialGradient(t,a,0,t,a,e);n.addColorStop(0,`rgba(${g+30}, ${b+30}, ${w+30}, ${.6*Math.random()+.5})`),n.addColorStop(1,`rgba(${g}, ${b}, ${w}, 0)`),p.fillStyle=n,p.beginPath(),p.arc(t,a,e,0,2*Math.PI),p.fill()}}const S=p.getImageData(0,0,h,m),P=S.data;for(let e=0;e<P.length;e+=4){const t=1+30*(f(e/4%h*.03,.03*Math.floor(e/4/h),h,3,.6,1,6e3)-.5)/255;P[e]=Math.max(0,Math.min(255,P[e]*t)),P[e+1]=Math.max(0,Math.min(255,P[e+1]*t)),P[e+2]=Math.max(0,Math.min(255,P[e+2]*t))}const x=r(i(S,h,m,.05),h,m,3);p.putImageData(x,0,0);const D=d(u,{wrapS:s.RepeatWrapping,wrapT:s.ClampToEdgeWrapping,minFilter:s.LinearMipmapLinearFilter,magFilter:s.LinearFilter});return y.set(c,D),D}(a.name,a.color,t,THREE),h=new THREE.MeshPhongMaterial({map:c,color:a.color,emissive:a.emissive||a.color,emissiveIntensity:.2,shininess:30}),m=new THREE.Mesh(s,h),p=o/u.length*Math.PI*2,M=(a.inclination||0)*(Math.PI/180),b=Math.cos(p)*a.distance,w=Math.sin(p)*a.distance;m.position.x=b,m.position.y=w*Math.sin(M),m.position.z=w*Math.cos(M),m.userData={name:a.name,distance:a.distance,angle:p,speed:a.speed,initialAngle:p,size:a.size,inclination:M},m.userData.clickable=!0,m.cursor="pointer",L.add(m),Q.push(m);for(let e=0;e<a.moons;e++){const n=new THREE.SphereGeometry(.3*a.size,16,16),o=g(t,THREE),r=new THREE.MeshPhongMaterial({map:o,color:13421772,emissive:4473924,emissiveIntensity:.1}),i=new THREE.Mesh(n,r),s=1.5*a.size+e*a.size*.5,l=e/a.moons*Math.PI*2;i.position.x=s,i.userData={distance:s,angle:l,speed:1.5*a.speed,parentPlanet:m},m.add(i),Z.push(i)}});const p=function(t,a,e,n,o){o.shadowMap.enabled=!0,o.shadowMap.type=t.PCFSoftShadowMap;const r=new t.AmbientLight(16777215,.4);a.add(r);const i=new t.DirectionalLight(16777130,1.2);i.position.copy(e.position),i.castShadow=!0,i.shadow.camera.near=.1,i.shadow.camera.far=500,i.shadow.camera.left=-100,i.shadow.camera.right=100,i.shadow.camera.top=100,i.shadow.camera.bottom=-100,i.shadow.mapSize.width=2048,i.shadow.mapSize.height=2048,i.shadow.radius=4,a.add(i);const s=new t.PointLight(16777130,2,300);return s.position.copy(e.position),s.castShadow=!0,s.shadow.mapSize.width=1024,s.shadow.mapSize.height=1024,s.shadow.camera.near=.1,s.shadow.camera.far=300,a.add(s),n.forEach(t=>{t.castShadow=!0,t.receiveShadow=!0,t.children.forEach(t=>{"Mesh"===t.type&&(t.castShadow=!0,t.receiveShadow=!0)})}),{ambientLight:r,sunDirectionalLight:i,sunPointLight:s}}(THREE,L,K,Q,B);L.userData.lights=p;(function(t,a,e={},n=null){const o={color:6728447,intensity:.3};a.forEach((a,r)=>{const i=e[a.userData.name]||o,s=function(t,a,e,n,o=.3,r=null){const i=new t.SphereGeometry(1.05*e,32,32),s=r||new t.Vector3(0,0,150),l=new t.ShaderMaterial({uniforms:{color:{value:new t.Color(n)},intensity:{value:o},cameraPosition:{value:s.clone()}},vertexShader:"\n      varying vec3 vNormal;\n      varying vec3 vWorldPosition;\n\n      void main() {\n        vNormal = normalize(normalMatrix * normal);\n        vec4 worldPosition = modelMatrix * vec4(position, 1.0);\n        vWorldPosition = worldPosition.xyz;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n      }\n    ",fragmentShader:"\n      uniform vec3 color;\n      uniform float intensity;\n      uniform vec3 cameraPosition;\n\n      varying vec3 vNormal;\n      varying vec3 vWorldPosition;\n\n      void main() {\n        vec3 viewDirection = normalize(cameraPosition - vWorldPosition);\n        float rim = 1.0 - max(dot(viewDirection, vNormal), 0.0);\n        rim = smoothstep(0.5, 1.0, rim);\n\n        vec3 finalColor = color * rim * intensity;\n        gl_FragColor = vec4(finalColor, rim * intensity);\n      }\n    ",side:t.BackSide,blending:t.AdditiveBlending,transparent:!0,depthWrite:!1}),d=new t.Mesh(i,l);return a.add(d),d.userData.isAtmosphere=!0,d.userData.planet=a,a.userData.atmosphereMesh=d,d}(t,a,a.userData.size,i.color||o.color,i.intensity||o.intensity,n);a.userData.atmosphereMesh=s})})(THREE,Q,{Terra:{color:6728447,intensity:.4},Crystal:{color:8965375,intensity:.3},Aurora:{color:6750088,intensity:.35},Nebula:{color:11176191,intensity:.3}},G.position.clone()),L.userData.planets=Q,L.userData.sun=K,Q.forEach(t=>{t.userData.rotationSpeed||(t.userData.rotationSpeed=E(t.userData.size,t.userData.distance))});const M=Q.filter(t=>t.userData.size>=1);L.userData.lagrangeGroups=[],M.forEach(t=>{const a=function(t,a,e){const n=new t.Group;a.userData.distance;const o=new t.SphereGeometry(.1,16,16),r=new t.MeshStandardMaterial({color:65280,transparent:!0,opacity:.6,emissive:65280,emissiveIntensity:.5}),i=new t.MeshStandardMaterial({color:65535,transparent:!0,opacity:.6,emissive:65535,emissiveIntensity:.5}),s=new t.Mesh(o,r),l=new t.Mesh(o,i),d=new t.SphereGeometry(.15,16,16),c=new t.MeshBasicMaterial({color:65280,transparent:!0,opacity:.2,side:t.BackSide}),h=new t.Mesh(d,c.clone()),m=new t.Mesh(d,c.clone());return m.material.color.setHex(65535),s.add(h),l.add(m),n.add(s),n.add(l),n.userData.l4Marker=s,n.userData.l5Marker=l,n.userData.planet=a,n.userData.sun=e,n}(THREE,t,K);L.add(a),L.userData.lagrangeGroups.push(a)})}(),function(){!function(t,a,e={}){const{color:n=0,near:o=50,far:r=500,density:i=1e-4}=e;a.fog=new t.FogExp2(n,i),a.fog}(THREE,L,{color:0,density:5e-5});const t=function(t,a,e=3){const n=[],o=[16711935,65535,16711808,33023,8453888];for(let r=0;r<e;r++){const i=r/e*Math.PI*2,s=60+40*Math.random(),l=new t.Vector3(Math.cos(i)*s,30*(Math.random()-.5),Math.sin(i)*s),d=I(t,a,{count:1e4+Math.floor(5e3*Math.random()),size:.08+.04*Math.random(),radius:20+15*Math.random(),color:o[r%o.length],position:l,density:.3+.2*Math.random()});n.push(d)}return n}(THREE,L,3);L.userData.nebulas=t,L.userData.starFormingRegions=[];for(let a=0;a<2;a++){const t=a/2*Math.PI*2,e=50+30*Math.random(),n=new THREE.Vector3(Math.cos(t)*e,20*(Math.random()-.5),Math.sin(t)*e),o=H(THREE,L,{position:n,size:3+2*Math.random(),color:16746751,intensity:1.5+.5*Math.random()});o.userData.core&&o.userData.core.material&&(o.userData.baseIntensity=o.userData.core.material.emissiveIntensity),L.userData.starFormingRegions.push(o)}L.userData.dustClouds=[];for(let a=0;a<2;a++){const t=a/2*Math.PI*2+Math.PI/4,e=70+20*Math.random(),n=new THREE.Vector3(Math.cos(t)*e,25*(Math.random()-.5),Math.sin(t)*e),o=F(THREE,L,{count:6e3,size:.04,radius:25+15*Math.random(),position:n,color:6710886,density:.2+.1*Math.random()});L.userData.dustClouds.push(o)}}(),a();(function(){const t=document.querySelector(".milky-way-scene");if(!t)return;t.addEventListener("wheel",t=>{t.preventDefault();const a=.01*t.deltaY;N=Math.max(1,Math.min(1e3,N+a)),tt&&N>200&&(tt=null,_=0,O=0,N=150)},{passive:!1}),t.addEventListener("mousedown",a=>{j=!0,U=a.clientX,X=a.clientY,t.style.cursor="grabbing"}),document.addEventListener("mouseup",()=>{j=!1,t&&(t.style.cursor="grab")}),document.addEventListener("mousemove",t=>{if(!j||!V)return;const a=t.clientX-U,e=t.clientY-X;O+=.005*a,_+=.005*e,_=Math.max(-Math.PI/2,Math.min(Math.PI/2,_)),U=t.clientX,X=t.clientY}),t.style.cursor="grab",Y=new THREE.Raycaster,J=new THREE.Vector2,t.addEventListener("click",a=>{if(!V||j)return;const e=t.getBoundingClientRect();J.x=(a.clientX-e.left)/e.width*2-1,J.y=-(a.clientY-e.top)/e.height*2+1,Y.setFromCamera(J,G);if((K?Y.intersectObject(K):[]).length>0)return void rt(K);const n=Y.intersectObjects(Q);if(n.length>0){rt(n[0].object)}})})(),window.addEventListener("resize",lt);const m=()=>{const t=document.querySelector(".milky-way-menu");if(!t)return;const a=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(t.classList.contains("active"))if(null!==a){a!==t.parentElement&&a.appendChild(t),t.style.cssText="\n                    display: flex !important;\n                    flex-direction: row !important;\n                    opacity: 1 !important;\n                    visibility: visible !important;\n                    pointer-events: all !important;\n                    width: auto !important;\n                    height: auto !important;\n                    overflow: visible !important;\n                    position: fixed !important;\n                    bottom: 2rem !important;\n                    left: 50% !important;\n                    transform: translateX(-50%) !important;\n                    top: auto !important;\n                    right: auto !important;\n                    z-index: 2147483647 !important;\n                    margin: 0 !important;\n                    padding: 0 !important;\n                ";const e=t.querySelector(".milky-way-menu-toggle");if(e){e.style.cssText="\n                        display: flex !important;\n                        flex-direction: row !important;\n                        visibility: visible !important;\n                        opacity: 1 !important;\n                        width: auto !important;\n                        height: auto !important;\n                        position: relative !important;\n                        pointer-events: all !important;\n                        gap: 12px !important;\n                        overflow: visible !important;\n                    ";e.querySelectorAll("span").forEach((t,a)=>{0===a?t.style.cssText="\n                                width: 12px !important;\n                                height: 12px !important;\n                                background: #00ffff !important;\n                                border-radius: 50% !important;\n                                display: block !important;\n                                opacity: 1 !important;\n                                visibility: visible !important;\n                                cursor: pointer !important;\n                                position: relative !important;\n                                overflow: visible !important;\n                            ":1===a?t.style.cssText="\n                                width: 12px !important;\n                                height: 12px !important;\n                                background: #ff00ff !important;\n                                border-radius: 50% !important;\n                                display: block !important;\n                                opacity: 1 !important;\n                                visibility: visible !important;\n                                cursor: pointer !important;\n                                position: relative !important;\n                                overflow: visible !important;\n                            ":2===a&&(t.style.cssText="\n                                width: 12px !important;\n                                height: 12px !important;\n                                background: #00ff00 !important;\n                                border-radius: 50% !important;\n                                display: block !important;\n                                opacity: 1 !important;\n                                visibility: visible !important;\n                                cursor: pointer !important;\n                                position: relative !important;\n                                overflow: visible !important;\n                            ")})}}else t.parentElement!==document.body&&document.body.appendChild(t)};document.addEventListener("fullscreenchange",m),document.addEventListener("webkitfullscreenchange",m),document.addEventListener("mozfullscreenchange",m),document.addEventListener("MSFullscreenChange",m),setTimeout(m,100),st()}(),function(){if(q)return;const t=`${window.location.pathname.replace(/\/[^/]*\.html?$/,"").replace(/\/$/,"")||""}/assets/audio/space-ambience-optimized.ogg`;try{q=new Audio(t),q.loop=!0,q.volume=.3,q.preload="auto";const e=()=>{q&&V&&q.play().catch(t=>{a()}),document.removeEventListener("click",e),document.removeEventListener("touchstart",e),document.removeEventListener("keydown",e)},n=()=>{q&&V&&q.play().catch(()=>{document.addEventListener("click",e,{once:!0}),document.addEventListener("touchstart",e,{once:!0}),document.addEventListener("keydown",e,{once:!0})})};n(),setTimeout(n,2e3)}catch(e){a()}}()},1500)}let nt=!1,ot=null;function rt(t){if(!t||nt)return;ot&&(cancelAnimationFrame(ot),ot=null),nt=!0;const a=G.position.x,e=G.position.y,n=G.position.z,o=_,r=O,i=t.position.clone();let s;s=t===K?15:t.userData&&t.userData.size?8*t.userData.size:20;const l=G.position.distanceTo(i),d=Math.max(1.5*l,8*s),c=s;(new THREE.Vector3).subVectors(i,G.position).normalize();const h=Math.atan2(i.x,i.z);new THREE.Vector3(i.x+Math.sin(h)*Math.cos(0)*c,i.y+Math.sin(0)*c,i.z+Math.cos(h)*Math.cos(0)*c);let m=0;const u=Date.now();!function i(){if(!V)return void(nt=!1);m=(Date.now()-u)/3e3,m>1&&(m=1);const s=m<.5?2*m*m:1-Math.pow(-2*m+2,2)/2,l=t.position.clone(),p=d+(c-d)*s;O=r+(h-r)*s,_=o+(0-o)*s,N=p;const M=new THREE.Vector3(l.x+Math.sin(O)*Math.cos(_)*p,l.y+Math.sin(_)*p,l.z+Math.cos(O)*Math.cos(_)*p);G.position.x=a+(M.x-a)*s,G.position.y=e+(M.y-e)*s,G.position.z=n+(M.z-n)*s,G.lookAt(l),B&&L&&G&&B.render(L,G),m<1?ot=requestAnimationFrame(i):(tt=t,nt=!1,ot=null)}()}let it=0;function st(){if(!V)return;if(!L||!G||!B)return;var t,e;if(W=requestAnimationFrame(st),it+=.016,L&&L.userData.galaxyLayers&&L.userData.galaxyLayers.forEach(t=>{t.points.rotation.y+=t.rotationSpeed}),L&&L.userData.centerStars&&(L.userData.centerStars.rotation.y+=6e-4,L.userData.centerStars.rotation.x+=3e-4),L&&L.userData.starLayers&&L.userData.starLayers.forEach(t=>{!function(t,a){if(!t||!t.geometry)return;const e=t.geometry.attributes.color,n=t.geometry.attributes.twinklePhase,o=t.geometry.attributes.twinkleSpeed;if(!e||!n||!o)return;const r=e.array,i=n.array,s=o.array;if(!t.userData.baseColors){t.userData.baseColors=new Float32Array(r.length);for(let a=0;a<r.length;a++)t.userData.baseColors[a]=r[a]}const l=t.userData.baseColors;for(let d=0;d<r.length;d+=3){const t=d/3,e=i[t],n=s[t],o=.3*Math.sin(a*n+e)+.7;r[d]=l[d]*o,r[d+1]=l[d+1]*o,r[d+2]=l[d+2]*o}e.needsUpdate=!0}(t.points,it)}),L&&L.userData.lights&&L.userData.sun&&(t=L.userData.sun,e=L.userData.lights,t&&e&&(e.sunDirectionalLight&&(e.sunDirectionalLight.position.copy(t.position),e.sunDirectionalLight.target.position.set(0,0,0)),e.sunPointLight&&e.sunPointLight.position.copy(t.position))),L&&G&&L.userData.planets&&function(t,a){if(!t)return;const e=new THREE.Vector3;t.getWorldPosition(e),a.forEach(t=>{const a=t.userData.atmosphereMesh;a&&a.material&&a.material.uniforms&&a.material.uniforms.cameraPosition.value.copy(e)})}(G,L.userData.planets),L&&L.userData.particleEffects){const t=L.userData.particleEffects;t.asteroidBelts.forEach(t=>{!function(t,a=.016){if(!t||!t.userData.rotations)return;const e=t.geometry.attributes.position,n=t.userData.rotations;for(let o=0;o<e.count;o++){const t=3*o;n[2*o]+=n[2*o+1]*a*60;const r=n[2*o],i=Math.sqrt(e.array[t]*e.array[t]+e.array[t+2]*e.array[t+2]);e.array[t]=Math.cos(r)*i,e.array[t+2]=Math.sin(r)*i}e.needsUpdate=!0}(t)}),t.comets.forEach(t=>{!function(t,a=.016){if(!t||!t.core||!t.core.userData.isComet)return;const e=t.core,n=e.userData;n.orbitAngle+=n.speed*a*60;const o=Math.cos(n.orbitAngle)*n.orbitRadius,r=Math.sin(n.orbitAngle)*n.orbitRadius,i=10*Math.sin(2*n.orbitAngle),s=new THREE.Vector3(o,i,r),l=n.trailPositions,d=n.lastPosition;for(let c=n.trailLength-1;c>0;c--){const t=3*c,a=3*(c-1);l[t]=l[a],l[t+1]=l[a+1],l[t+2]=l[a+2]}l[0]=d.x,l[1]=d.y,l[2]=d.z,e.position.copy(s),n.lastPosition.copy(s),t.trail&&t.trail.geometry&&(t.trail.geometry.attributes.position.needsUpdate=!0)}(t)}),t.solarWind&&function(t,a=.016){if(!t||!t.userData.velocities)return;const e=t.geometry.attributes.position,n=t.userData.velocities,o=t.userData.lifetimes;for(let r=0;r<e.count;r++){const t=3*r;e.array[t]+=n[t]*a*60,e.array[t+1]+=n[t+1]*a*60,e.array[t+2]+=n[t+2]*a*60,o[r]-=60*a;const i=e.array[t]*e.array[t]+e.array[t+1]*e.array[t+1]+e.array[t+2]*e.array[t+2],s=2500;if(o[r]<=0||i>s){const a=3.5+.5*Math.random(),n=Math.random()*Math.PI*2,i=Math.random()*Math.PI;e.array[t]=a*Math.sin(i)*Math.cos(n),e.array[t+1]=a*Math.sin(i)*Math.sin(n),e.array[t+2]=a*Math.cos(i),o[r]=200*Math.random()+100}}e.needsUpdate=!0}(t.solarWind),t.spaceStations.forEach(t=>{!function(t,a=.016){if(!t||!t.userData.isSpaceStation)return;const e=t.userData;e.angle+=e.speed*a*60;const n=Math.cos(e.angle)*e.distance,o=Math.sin(e.angle)*e.distance;t.position.x=n,t.position.z=o,t.rotation.y+=.01*a*60}(t)})}if(L&&L.userData.nebulas&&L.userData.nebulas.forEach(t=>{!function(t,a,e=.016){t&&t.userData.isNebula&&t.material.uniforms&&(t.material.uniforms.time.value=a,t.rotation.y+=1e-4*e*60)}(t,it)}),L&&L.userData.starFormingRegions&&L.userData.starFormingRegions.forEach(t=>{!function(t,a,e=.016){if(!t||!t.userData.isStarFormingRegion)return;const n=t.userData.core;if(n&&n.material){const e=.3*Math.sin(.5*a)+.7;n.material.emissiveIntensity=t.userData.baseIntensity*e}t.rotation.y+=2e-4*e*60}(t,it)}),K&&(K.rotation.y+=.001),L&&L.userData.planets&&S(L.userData.planets),L&&L.userData.lagrangeGroups&&L.userData.lagrangeGroups.forEach(t=>{v(THREE,t)}),Q.forEach(t=>{t.userData.angle+=t.userData.speed;const a=Math.cos(t.userData.angle)*t.userData.distance,e=Math.sin(t.userData.angle)*t.userData.distance,n=t.userData.inclination||0;t.position.x=a,t.position.y=e*Math.sin(n),t.position.z=e*Math.cos(n),t.userData.rotationSpeed?t.rotation.y+=t.userData.rotationSpeed:t.rotation.y+=.002}),Z.forEach(t=>{t.userData.angle+=t.userData.speed,t.userData.parentPlanet,t.position.x=Math.cos(t.userData.angle)*t.userData.distance,t.position.z=Math.sin(t.userData.angle)*t.userData.distance}),G){if(nt){if(L&&L.userData.postProcessing&&L.userData.postProcessing.composer)try{const t=tt?tt.position:new THREE.Vector3(0,0,0);C(G,z(G),t)}catch(r){B&&L&&G&&B.render(L,G)}else B&&L&&G&&B.render(L,G);return}if(tt){const t=tt.position.clone(),a=t.x+Math.sin(O)*Math.cos(_)*N,e=t.y+Math.sin(_)*N,n=t.z+Math.cos(O)*Math.cos(_)*N;let o;G.position.x=a,G.position.y=e,G.position.z=n,G.lookAt(t),o=tt===K?50:200,N>o&&(tt=null,_=0,O=0,N=150)}else{const t=Math.sin(O)*Math.cos(_)*N,a=Math.sin(_)*N,e=Math.cos(O)*Math.cos(_)*N;G.position.x=t,G.position.y=a,G.position.z=e,G.lookAt(0,0,0)}}const n=z(G);let o=!1;if(L&&L.userData.postProcessing&&L.userData.postProcessing.composer)try{const t=tt?tt.position:new THREE.Vector3(0,0,0);C(G,n,t),o=!0}catch(r){a()}!o&&B&&L&&G&&B.render(L,G)}function lt(){var t,a;G&&B&&(G.aspect=window.innerWidth/window.innerHeight,G.updateProjectionMatrix(),B.setSize(window.innerWidth,window.innerHeight),L&&L.userData.postProcessing&&(t=window.innerWidth,a=window.innerHeight,P&&P.setSize(t,a),x&&x.setSize(t,a),D&&D.setSize(t,a)))}function dt(){if(document.fullscreenElement)document.exitFullscreen().catch(()=>{});else{const t=document.querySelector(".milky-way-scene");t&&t.requestFullscreen().catch(()=>{})}}function ct(){ot&&(cancelAnimationFrame(ot),ot=null),nt=!1,_=0,O=0,N=150,tt=null}function ht(){if(!V)return;if(V=!1,q&&(q.pause(),q.currentTime=0),it=0,W&&(cancelAnimationFrame(W),W=null),B){const t=document.querySelector(".milky-way-scene");t&&B.domElement&&t.removeChild(B.domElement),B.dispose(),B=null}L&&(L.traverse(t=>{t.geometry&&t.geometry.dispose(),t.material&&(Array.isArray(t.material)?t.material.forEach(t=>t.dispose()):t.material.dispose())}),L=null),G=null;const t=document.getElementById("milky-way-cursor-override");t&&t.remove(),K=null,Q=[],Z=[],j=!1,_=0,O=0,N=150,ot&&(cancelAnimationFrame(ot),ot=null),nt=!1,tt=null;const a=document.querySelector(".milky-way-scene");a&&(a.classList.remove("active"),a.style.cursor="");const e=document.querySelector(".milky-way-menu");e&&(e.classList.remove("active"),e.style.display="none",e.style.visibility="hidden",e.style.opacity="0",e.style.pointerEvents="none",e.style.width="0",e.style.height="0",e.style.overflow="hidden"),document.fullscreenElement&&document.exitFullscreen().catch(()=>{}),document.body.classList.remove("milky-way-ready");const n=document.querySelector(".easter-egg-vortex");n&&n.classList.remove("active"),setTimeout(()=>{document.body.classList.remove("easter-egg-active"),document.body.classList.remove("milky-way-ready"),document.body.style.cursor="";const t=document.getElementById("main-content"),a=document.querySelector(".navbar, #navbar, nav.navbar"),e=document.querySelector("footer");if(t&&void 0!==t.dataset.originalDisplay&&(t.style.display=t.dataset.originalDisplay,delete t.dataset.originalDisplay),a&&void 0!==a.dataset.originalDisplay&&(a.style.display=a.dataset.originalDisplay,delete a.dataset.originalDisplay),e&&void 0!==e.dataset.originalDisplay&&(e.style.display=e.dataset.originalDisplay,delete e.dataset.originalDisplay),!t){document.querySelectorAll("body > *:not(.easter-egg-vortex):not(.milky-way-scene):not(.milky-way-menu):not(.milky-way-loading)").forEach(t=>{t&&void 0!==t.dataset.originalDisplay&&(t.style.display=t.dataset.originalDisplay,delete t.dataset.originalDisplay)})}document.querySelectorAll("*:not(.easter-egg-vortex):not(.milky-way-scene):not(.milky-way-menu)").forEach(t=>{t.style.animation="none",t.offsetHeight,t.style.animation=null})},500)}export{et as activateEasterEgg};
