const t="logi-ink-static-v4",s="logi-ink-runtime-v3",e=t=>"localhost"===t.hostname||"127.0.0.1"===t.hostname||"[::1]"===t.hostname||"3000"===t.port||"5173"===t.port||"8080"===t.port||"4173"===t.port||"4176"===t.port,n=self.location.pathname.replace(/\/sw\.js$/,"").replace(/\/$/,"")||"/",a=[`${n}/`,`${n}/index.html`,`${n}/about.html`,`${n}/services.html`,`${n}/projects.html`,`${n}/contact.html`,`${n}/css/main.css`,`${n}/css/variables.css`,`${n}/css/base.css`,`${n}/css/fonts.css`,`${n}/js/main.js`,`${n}/assets/fonts/Orbitron/woff2/Orbitron-Regular-subset.woff2`,`${n}/assets/fonts/Orbitron/woff2/Orbitron-Bold-subset.woff2`,`${n}/assets/fonts/Orbitron/woff2/Orbitron-Black-subset.woff2`,`${n}/assets/fonts/Rajdhani/woff2/Rajdhani-Light-subset.woff2`,`${n}/assets/fonts/Rajdhani/woff2/Rajdhani-Regular-subset.woff2`,`${n}/assets/fonts/Rajdhani/woff2/Rajdhani-SemiBold-subset.woff2`,`${n}/assets/fonts/Rajdhani/woff2/Rajdhani-Bold-subset.woff2`,`${n}/assets/images/banners/banner_home.webp`,`${n}/assets/images/backgrounds/cta-get-in-touch.webp`,`${n}/assets/images/backgrounds/mission-parallax-bg.webp`,`${n}/assets/images/backgrounds/process-parallax-bg.webp`,`${n}/assets/images/backgrounds/testimonials-parallax-bg.webp`,`${n}/logo.png`,`${n}/site.webmanifest`,`${n}/apple-touch-icon.png`,`${n}/favicon-32x32.png`,`${n}/favicon-48x48.png`,`${n}/favicon-16x16.png`];async function o(t){const e=await caches.open(s),n=await e.match(t),a=fetch(t).then(s=>(s&&200===s.status&&e.put(t,s.clone()),s)).catch(t=>n);return n?(a.catch(()=>{}),n):a}function i(t){return t.endsWith(".html")||t.endsWith("/")||!t.match(/\./)}self.addEventListener("install",s=>{const n=new URL(self.location.href);e(n)?self.skipWaiting():s.waitUntil(caches.open(t).then(t=>Promise.allSettled(a.map(s=>t.add(s).catch(t=>null)))).then(()=>self.skipWaiting()).catch(t=>self.skipWaiting()))}),self.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(e=>Promise.all(e.map(e=>{if(e!==t&&e!==s&&"logi-ink-v1"!==e)return caches.delete(e)}))).then(()=>self.clients.claim()))}),self.addEventListener("fetch",a=>{const{request:c}=a,r=new URL(c.url);e(r)||"GET"===c.method&&(c.headers.has("range")||r.origin===location.origin&&(r.pathname.endsWith("/sw.js")||(r.pathname.includes("/reports/")?a.respondWith(fetch(c)):!function(t){if(t.match(/\/assets\/[^/]+-[a-f0-9]+\.(css|js|mjs)$/i))return!0;return!1}(c.url)?!function(t){return t.endsWith(".css")||t.match(/\.css(\?|$)/)}(c.url)?!function(t){if(t.match(/\.(woff2?|ttf|eot|otf|png|jpg|jpeg|gif|webp|svg|ico|avif|woff|woff2)$/i))return!0;if(t.includes("/assets/images/")||t.includes("/assets/fonts/")||t.includes("/fonts/"))return!0;return!1}(c.url)?i(c.url)?a.respondWith(async function(t){const e=await caches.open(s),a=new URL(t.url);try{const s=await fetch(t);return s&&200===s.status&&e.put(t,s.clone()),s}catch(o){const s=await e.match(t);if(s)return s;if(i(t.url)&&!a.pathname.includes("/reports/")){const t=await e.match(`${n}/index.html`);if(t)return t}return new Response("Not Found",{status:404,statusText:"Not Found"})}}(c)):a.respondWith(o(c)):a.respondWith(async function(s){const e=await caches.open(t),n=await e.match(s);if(n)return n;try{const t=await fetch(s);return t&&200===t.status&&e.put(s,t.clone()),t}catch(a){const t=new URL(s.url).pathname,n=await e.keys();for(const s of n){if(new URL(s.url).pathname===t)return e.match(s)}return new Response("Offline",{status:503,headers:{"Content-Type":"text/plain"}})}}(c)):a.respondWith(async function(t,e){const n=await caches.open(s),a=await n.match(t),o=fetch(t).then(s=>{if(s&&200===s.status){const a=new Headers(s.headers);a.set("Content-Type",e);const o=new Response(s.body,{status:s.status,statusText:s.statusText,headers:a});return n.put(t,o.clone()),o}return s}).catch(t=>a);if(a){const t=new Headers(a.headers);if(t.get("Content-Type")!==e){t.set("Content-Type",e);const s=new Response(a.body,{status:a.status,statusText:a.statusText,headers:t});return o.catch(()=>{}),s}return o.catch(()=>{}),a}return o}(c,"text/css")):a.respondWith(o(c)))))}),self.addEventListener("message",t=>{t.data&&"SKIP_WAITING"===t.data.type&&self.skipWaiting()});
